---
title: "Prompt A Structured Q&A Response Using LLM Gateway"
---

This cookbook will demonstrate how to use AssemblyAI's [LLM Gateway](/docs/llm-gateway) framework to prompt a structured question and answer response.

## Quickstart

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-1.py" />
## Getting Started

Before we begin, make sure you have an AssemblyAI account and an API key. You can [sign up for an AssemblyAI account](https://www.assemblyai.com/app) and get your API key from your dashboard.

Find more details on the current LLM Gateway pricing in the AssemblyAI [pricing page](https://www.assemblyai.com/pricing).

## Step-by-Step Instructions

In this guide, we will prompt LLM Gateway with a structured Q&A format and generate an XML response.

First, let's import the necessary libraries and set our API key.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-2.py" />
Next, we'll use AssemblyAI to transcribe a file and save our transcript.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-3.py" />
Construct a formatted string to structure the questions. This includes the
question text, context, an answer format, any answer options, then returns the
formatted string.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-4.py" />
Define a list of questions. For each question, you can define additional
`context` and specify either an `answer_format` or a list of `answer_options`.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-5.py" />
Construct the formatted question string for all the questions and build the LLM
prompt.

```python
question_str = '\n'.join(construct_question(q) for q in questions)
```

Provide detailed instructions to prompt LLM Gateway to answer a series of questions. This also defines a structured XML template for the responses.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-6.py" />
## Getting Started

Before we begin, make sure you have an AssemblyAI account and an API key. You can [sign up for an AssemblyAI account](https://www.assemblyai.com/app) and get your API key from your dashboard.

Find more details on the current LLM Gateway pricing in the AssemblyAI [pricing page](https://www.assemblyai.com/pricing).

## Step-by-Step Instructions

In this guide, we will prompt LLM Gateway with a structured Q&A format and generate an XML response.

First, let's import the necessary libraries and set our API key.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-7.py" />
Next, we'll use AssemblyAI to transcribe a file and save our transcript.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-8.py" />
Construct a formatted string to structure the questions. This includes the
question text, context, an answer format, and any answer options, then returns
the formatted string.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-9.py" />
Define a list of questions. For each question, you can define additional
`context` and specify either an `answer_format` or a list of `answer_options`.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-10.py" />
Construct the formatted question string for all the questions and build the LLM
prompt.

```python
question_str = '\n'.join(construct_question(q) for q in questions)
```

Provide detailed instructions to prompt LLM Gateway to answer a series of questions. This also defines a structured XML template for the responses.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-11.py" />
Prompt the LLM Gateway model and return the response.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-12.py" />
Clean the XML output and print the question and answer pairs.

<Code src="snippets/guides/cookbooks/lemur/task-endpoint-structured-QA/python-13.py" />
