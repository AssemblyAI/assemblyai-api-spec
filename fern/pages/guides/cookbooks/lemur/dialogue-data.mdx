---
title: "Extract Dialogue Data with LLM Gateway and JSON"
---

In this guide, we'll show you how to use AssemblyAI's [LLM Gateway](/docs/llm-gateway) framework to process several audio files, and then format your results in JSON (JavaScript Object Notation) format.

JSON allows you to programmatically format, parse, and transfer responses from LLM Gateway, which is useful for implementing LLM Gateway with a wide range of other applications.

In this example, we will leverage the JSON formatting to create a .csv file from a directory of files that must be transcribed and submitted to LLM Gateway. However, you can use the same concepts in this guide to generate a JSON-formatted response, which you can then use to update a database table or interact with other APIs.

## Quickstart

<Code src="../../../../snippets/guides/cookbooks/lemur/dialogue-data/python-1.py" />
## Get Started

Before we begin, make sure you have an AssemblyAI account and an API key. You can [sign up for an AssemblyAI account](https://www.assemblyai.com/app) and get your API key from your dashboard.

## Step-by-Step Instructions

In this guide, we will ask the same questions to LLM Gateway about multiple files. Then, we will collate the answers in a .csv file.

Import the necessary libraries for making an HTTP request and set your API key, headers, and base URL.

<Code src="../../../../snippets/guides/cookbooks/lemur/dialogue-data/python-2.py" />
Define a function to extract the JSON text from the response from LLM Gateway.

<Code src="../../../../snippets/guides/cookbooks/lemur/dialogue-data/python-3.py" />
Define functions to upload and transcribe each file using AssemblyAI's Async
API.

<Code src="../../../../snippets/guides/cookbooks/lemur/dialogue-data/python-4.py" />
Define a function to process each transcript text with LLM Gateway.

<Code src="../../../../snippets/guides/cookbooks/lemur/dialogue-data/python-5.py" />
Define your LLM Gateway request prompt.

<Code src="../../../../snippets/guides/cookbooks/lemur/dialogue-data/python-6.py" />
Retrieve and process each file in the `interviews` folder and create a .csv file
with the results.

<Code src="../../../../snippets/guides/cookbooks/lemur/dialogue-data/python-7.py" />
For context, this is the response from LLM Gateway with our prompt.

```json
{
  "Name": "John Smith",
  "Position": "software engineer",
  "Past experience": "three years of experience at Google"
}
```

You can now run your Python script and you should see that a `profiles.csv` file is generated.
