---
title: "Segment A Phone Call using LLM Gateway"
---

In this guide we will show you how to use AssemblyAI's LLM Gateway to segment a phone call. LLM Gateway provides access to multiple LLM providers through a unified API.

## Quickstart

<Code src="../../../../snippets/guides/cookbooks/lemur/phone-call-segmentation/python-1.py" />
## Get Started

Before we begin, make sure you have an AssemblyAI account and an API key. You can [sign up for an AssemblyAI account](https://www.assemblyai.com/app) and get your API key from your dashboard.

## Step-by-Step Instructions

Install the required packages:

```bash
pip install requests
```

Set up your API client and transcribe the audio file:

<Code src="../../../../snippets/guides/cookbooks/lemur/phone-call-segmentation/python-2.py" />
Define the phases you want to identify.

Here is an example of `phases` that can be used for customer support calls:

<Code src="../../../../snippets/guides/cookbooks/lemur/phone-call-segmentation/python-3.py" />
Use LLM Gateway to analyze the transcript and divide it into phases. This is an
example prompt, which you can modify to suit your specific requirements. See our
documentation for more information about [prompt
engineering](/docs/lemur/improving-your-prompt).

<Code src="../../../../snippets/guides/cookbooks/lemur/phone-call-segmentation/python-4.py" />
Example output of the analysis of a transcript divided into phases and formatted
as a JSON object:

```

{
    "phases": [
        {
            "name": "Introduction",
            "start_time": 1.52,
            "end_time": 15.57,
            "summary": "The customer service representative greets the caller and asks how they can help. The caller states they want to know the status of their order refund."
        },
        {
            "name": "Complaint",
            "start_time": 15.57,
            "end_time": 59.41,
            "summary": "The representative asks for the order ID, which the caller provides. The representative confirms the order details and that it was cancelled. The caller mentions they couldn't complete their test."
        },
        {
            "name": "Resolution",
            "start_time": 59.41,
            "end_time": 210.01,
            "summary": "The representative informs the caller that the refund was initiated on April 8th and will be credited by April 21st. They explain the refund timeline and bank processing days. The caller expresses some confusion about the timeline, and the representative clarifies the process."
        },
        {
            "name": "Goodbye",
            "start_time": 210.01,
            "end_time": 235.8,
            "summary": "The caller accepts the explanation. The representative asks if there's anything else they can help with, requests feedback, and concludes the call with a farewell."
        }
    ]
}
```
