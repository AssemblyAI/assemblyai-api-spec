---
title: "Identifying hate speech in audio or video files"
hide-nav-links: true
description: "Detect sensitive content in your audio files"
---

Our [Content Moderation](/docs/audio-intelligence/content-moderation) model can help you ensure that your content is safe and appropriate for all audiences.

The model pinpoints sensitive discussions in spoken data and provides information on the severity to which they occurred.

In this guide, we'll learn how to use the Content Moderation model, and look at an example response to understand its structure.

## Get started

Before we begin, make sure you have an AssemblyAI account and an API key. You can [sign up](https://assemblyai.com/dashboard/signup) for a free account and get your API key from your dashboard.

The complete source code for this guide can be viewed [here](https://github.com/AssemblyAI-Community/docs-snippets/tree/main/hate-speech).

Here is an audio example for this guide:

```bash
https://assembly.ai/wildfires.mp3
```

## Step-by-step instructions

<Steps>
<Step>

<Tabs groupId="language">

<Tab language="python-sdk" title="Python SDK" default>
Install the SDK.

```python
pip install -U assemblyai
```

  </Tab>

  <Tab language="python" title="Python">
  Create a new file and
request.

```python
import requests
import time
```

  </Tab>

  <Tab language="javascript" title="JavaScript">
  Create a new file and
request.

```javascript
import axios from "axios";
import fs from "fs-extra";
```

  </Tab>

  <Tab language="php" title="PHP">
  Create a new file and
request.

```php
$ch = curl_init();
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
```

  </Tab>

  <Tab language="ruby" title="Ruby">
  Create a new file and
request.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/ruby-1.rb" />
  </Tab>

<Tab language="csharp" title="C#">
Create a new file and
request.

```csharp
using System.Net.Http;
using System.Threading;
```

</Tab>

</Tabs>

</Step>
<Step>

<Tabs></Tabs>

<Tabs groupId="language">

<Tab language="python-sdk" title="Python SDK" default>
Import AssemblyAI package and set your API
key.

```python
import assemblyai as aai

aai.settings.api_key = "<YOUR_API_KEY>"
```

  </Tab>

  <Tab language="python" title="Python">
  Set up the API endpoint and headers. The headers should include your API
key.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/python-1.py" />
  </Tab>

  <Tab language="javascript" title="JavaScript">
  Set up the API endpoint and headers. The headers should include your API
key.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/javascript-1.js" />
  </Tab>

  <Tab language="php" title="PHP">
  Set up the API endpoint and headers. The headers should include your API
key.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/php-1.php" />
  </Tab>

  <Tab language="ruby" title="Ruby">
  Set up the API endpoint and headers. The headers should include your API
key.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/ruby-2.rb" />
  </Tab>

  <Tab language="csharp" title="C#">
  Set up the API endpoint and headers. The headers should include your API
key.

```csharp
string apiKey = "<YOUR_API_KEY>";
```

  </Tab>

</Tabs>

</Step>
<Step>

<Tabs groupId="language">

<Tab language="python-sdk" title="Python SDK" default>
Create a `TranscriptionConfig` with `content_safety` set to `True`.

```python
# highlight-next-line
config = aai.TranscriptionConfig(content_safety=True)
```

  </Tab>

  <Tab language="python" title="Python">
  Upload your local file to the AssemblyAI API.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/python-2.py" />
  </Tab>

  <Tab language="javascript" title="JavaScript">
  Upload your local file to the AssemblyAI API.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/javascript-2.js" />
  </Tab>

  <Tab language="php" title="PHP">
  Upload your local file to the AssemblyAI API.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/php-2.php" />
  </Tab>

  <Tab language="ruby" title="Ruby">
  Upload your local file to the AssemblyAI API.

```ruby
path = "/my_audio.mp3"
response = RestClient.post("#{base_url}/upload", File.read(path), headers)
upload_url = JSON.parse(response.body)["upload_url"]
```

  </Tab>

  <Tab language="csharp" title="C#">
  Upload your local file to the AssemblyAI API.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/csharp-1.cs" />
  </Tab>

</Tabs>

</Step>
<Step>

<Tabs groupId="language">

<Tab language="python-sdk" title="Python SDK" default>
Create a `Transcriber` object and pass in the configuration.

```python
transcriber = aai.Transcriber(config=config)
```

  </Tab>

  <Tab language="python" title="Python">
  Use the `upload_url` returned by the AssemblyAI API to create a JSON payload
containing the `audio_url` parameter and the `content_safety` parameter set to
`True`.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/python-3.py" />
  </Tab>

  <Tab language="javascript" title="JavaScript">
  Use the `upload_url` returned by the AssemblyAI API to create a JSON payload
containing the `audio_url` parameter and the `content_safety` parameter set to
`True`.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/javascript-3.js" />
  </Tab>

  <Tab language="php" title="PHP">
  Use the `upload_url` returned by the AssemblyAI API to create a JSON payload
containing the `audio_url` parameter and the `content_safety` parameter set to
`True`.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/php-3.php" />
  </Tab>

  <Tab language="ruby" title="Ruby">
  Use the `upload_url` returned by the AssemblyAI API to create a JSON payload
containing the `audio_url` parameter and the `content_safety` parameter set to
`True`.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/ruby-3.rb" />
  </Tab>

  <Tab language="csharp" title="C#">
  Use the `upload_url` returned by the AssemblyAI API to create a JSON payload
containing the `audio_url` parameter and the `content_safety` parameter set to
`True`.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/csharp-2.cs" />
  </Tab>

</Tabs>

</Step>
<Step>

<Tabs groupId="language">

<Tab language="python-sdk" title="Python SDK" default>
Use the `Transcriber` object's transcribe method and pass in the audio file's
path as a parameter. The `transcribe` method saves the results of the transcription to the `Transcriber` object's `transcript` attribute.

```python
FILE_URL = "https://assembly.ai/wildfires.mp3"

transcript = transcriber.transcribe(FILE_URL)
```

  </Tab>

  <Tab language="python" title="Python">
  Make a `POST` request to the AssemblyAI API endpoint with the payload and
headers.

```python
url = base_url + "/transcript"
response = requests.post(url, json=data, headers=headers)
```

  </Tab>

  <Tab language="javascript" title="JavaScript">
  Make a `POST` request to the AssemblyAI API endpoint with the payload and
headers.

```javascript
const url = `${baseUrl}/transcript`;
const response = await axios.post(url, data, { headers: headers });
```

  </Tab>

  <Tab language="php" title="PHP">
  Make a `POST` request to the AssemblyAI API endpoint with the payload and
headers.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/php-4.php" />
  </Tab>

  <Tab language="ruby" title="Ruby">
  Make a `POST` request to the AssemblyAI API endpoint with the payload and
headers.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/ruby-4.rb" />
  </Tab>

  <Tab language="csharp" title="C#">
  Make a `POST` request to the AssemblyAI API endpoint with the payload and
headers.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/csharp-3.cs" />
  </Tab>

</Tabs>

</Step>
<Step>

<Tabs groupId="language">

  <Tab language="python-sdk" title="Python SDK" default>
  You can access the content moderation results through the `Transcriber` object's `content_safety` attribute.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/python-sdk.py" />
  </Tab>

  <Tab language="python" title="Python">
  After making the request, you'll receive an ID for the transcription. Use it
to poll the API every few seconds to check the status of the transcript job.
Once the status is `completed`, you can retrieve the transcript from the API
response, using the `content_safety_labels` key to view the results.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/python-4.py" />
  </Tab>

  <Tab language="javascript" title="JavaScript">
  After making the request, you'll receive an ID for the transcription. Use it
to poll the API every few seconds to check the status of the transcript job.
Once the status is `completed`, you can retrieve the transcript from the API
response, using the `content_safety_labels` key to view the results.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/javascript-4.js" />
  </Tab>

  <Tab language="php" title="PHP">
  After making the request, you'll receive an ID for the transcription. Use it
to poll the API every few seconds to check the status of the transcript job.
Once the status is `completed`, you can retrieve the transcript from the API
response, using the `content_safety_labels` key to view the results.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/php-5.php" />
  </Tab>

  <Tab language="ruby" title="Ruby">
  After making the request, you'll receive an ID for the transcription. Use it
to poll the API every few seconds to check the status of the transcript job.
Once the status is `completed`, you can retrieve the transcript from the API
response, using the `content_safety_labels` key to view the results.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/ruby-5.rb" />
  </Tab>

  <Tab language="csharp" title="C#">
  After making the request, you'll receive an ID for the transcription. Use it
to poll the API every few seconds to check the status of the transcript job.
Once the status is `completed`, you can retrieve the transcript from the API
response, using the `content_safety_labels` key to view the results.

<Code src="../../snippets/guides/identifying-hate-speech-in-audio-or-video-files/csharp-4.cs" />
  </Tab>

</Tabs>

</Step>
</Steps>

## Understanding the response

In the JSON response, there'll be an additional key called `content_safety_labels` that contains information about any sensitive content detected. The full text is contained in the `text` key, and each problematic utterance has its own `labels` and `timestamp`. The entire audio is assigned a `summary` and a `severity_score_summary` for each category of unsafe content. Each label is returned with a confidence score and a severity score.

<CodeBlock>
  <JsonViewer
    displayDataTypes={false}
    quotesOnKeys={false}
    displayObjectSize={false}
    src={{
      content_safety_labels: {
        status: "success",
        results: [
          {
            text: "You know, the problem with...",
            labels: [
              {
                label: "sensitive_social_issues",
                confidence: 0.9962000250816345,
                severity: null,
              },
              {
                label: "hate_speech",
                confidence: 0.9268788695335388,
                severity: 0.5201690793037415,
              },
            ],
            timestamp: {
              start: 650,
              end: 4970,
            },
          },
        ],
        summary: {
          sensitive_social_issues: 0.9999820200945412,
          hate_speech: 0.9999516283032464,
        },
        severity_score_summary: {
          hate_speech: {
            low: 0,
            medium: 1,
            high: 0,
          },
        },
      },
    }}
  />
</CodeBlock>

For more information, see [Content Moderation model documentation](/docs/audio-intelligence/content-moderation#understanding-the-response) and [API reference](https://assemblyai.com/docs/api-reference/transcripts).

## Conclusion

The AssemblyAI API supports many different [content safety labels](/docs/audio-intelligence/content-moderation#all-labels-supported-by-the-model). Identifying hate speech is only a single, important use case for automated content moderation, and you can learn about others on the [AssemblyAI blog](https://www.assemblyai.com/blog/content-moderation-what-it-is-how-it-works-best-apis-2/).
