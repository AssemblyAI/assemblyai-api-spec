---
title: "Code Switching"
---

import { AudioPlayer } from "../../../assets/components/AudioPlayer";

Transcribe audio containing multiple languages with code switching detection. This feature enables accurate transcription of conversations where speakers naturally switch between languages during conversations.

## Built-in code switching

### Universal-3-Pro (Recommended)

Universal-3-Pro has built-in code switching capabilities across English, Spanish, Portuguese, French, German, and Italian. Set `language_detection` to `True` to automatically detect the spoken language, and use a prompt to preserve the original language mix in your transcript.

Here is an example of how Universal-3-Pro handles spoken audio in English and French.

<AudioPlayer src="https://assemblyaiassets.com/audios/code_switching_multilingual.mp3" />

Example output:

```txt wordWrap
You literally lost your French? No, no, no. Mon français est là. L'italien, j'ai oublié, mais mon français est toujours là. Il partira jamais. Okay, but would you need a French coach? Could you consider having me? Oh yeah, yeah, absolutely, absolutely. Mais pour l'instant, le français est là, heureusement.
```

<Tabs groupId="language">
<Tab language="python" title="Python" default>

<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/python-1.py" />
</Tab>
<Tab language="javascript" title="JavaScript">

<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/javascript-1.js" />
</Tab>
</Tabs>

<Note title="Language support">

Universal-3-Pro supports English, Spanish, Portuguese, French, German, and Italian. To access all 99 languages, use `"speech_models": ["universal-3-pro", "universal-2"]` as shown in the code example. [Read more here.](#99-languages-coverage)

</Note>

### Universal-2

Supports code switching between 99 languages, with best performing code switching languages being `en`, `es`, `de`.

To enable code switching for Universal-2 only, set `speech_models` to `universal-2`, set `language_detection` as `True`, and set `code_switching` as `True` as shown in the example below.

<CodeBlocks>

<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/python-sdk-1.py" title="Python SDK" highlight={[12]} maxLines={15} />
<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/python-2.py" title="Python" highlight={[22]} maxLines={15} />
<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/javascript-sdk-1.js" title="JavaScript SDK" highlight={[18]} maxLines={15} />
<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/javascript-2.js" title="JavaScript" highlight={[22]} maxLines={15} />
</CodeBlocks>

### Example API Response

When enabling code switching with automatic language detection, the two detected language codes with the highest confidence and their confidence will be included in the transcript JSON.

```json
"language_detection_results": {
      "code_switching_languages": [
           {"language": "en", "confidence": 0.8},
           {"language": "es", "confidence": 0.7}
     ]
}
```

## 99 languages coverage

To get the best performing transcription while extending code switching across all 99 supported languages, specify both "Universal-3-Pro" and "Universal-2" using the `speech_models` parameter, allowing our system to automatically route your audio based on language support.

Model routing behavior: The system attempts to use the models in priority order falling back to the next model when needed. For example, with `["universal-3-pro", "universal-2"]`, the system will try to use universal-3-pro for languages it supports (English, Spanish, Portuguese, French, German, and Italian), and automatically fall back to Universal-2 for all other languages. This ensures you get the best performing transcription where available while maintaining the widest language coverage.

### Other supported languages

While additional languages are supported for code switching, optimal results typically require the non-English language to be dominant in the audio. For English-dominant content with other languages, standard single-language transcription may be more appropriate.

We highly recommend testing sample code switching files with your specific audio to assess performance and evaluate outputs. We also recommend using an LLM to correct and fine-tune our model's outputs.

## Manually Setting Language Codes

To manually set the [language codes](/docs/speech-to-text/pre-recorded-audio/code-switching), you can use the `language_codes` parameter. A max of two language codes can be set and one code must be `"en"`. For example, if your file contains both English and Spanish, it would be `"language_codes": ["en", "es"]`.

<CodeBlocks>

<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/python-sdk-2.py" title="Python SDK" highlight={[10]} maxLines={15} />
<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/python-3.py" title="Python" highlight={[20]} maxLines={15} />
<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/javascript-sdk-2.js" title="JavaScript SDK" highlight={[16]} maxLines={15} />
<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/javascript-3.js" title="JavaScript" highlight={[20]} maxLines={15} />
</CodeBlocks>

## Code Switching Confidence Threshold

The `code_switching_confidence_threshold` parameter controls how certain the model must be before identifying a language switch. Set this to a value between 0 and 1 to filter out low-confidence language detections and reduce false positives. This will only use identified languages above this threshold. The model identifies a maximum of two languages per audio file.

<Note title="Code Switching Confidence Threshold">
  By default, the `code_switching_confidence_threshold` parameter is set to
  `0.3`. If you would like to disable this, make sure to set this parameter to
  `0`.
</Note>

<CodeBlocks>

<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/python-sdk-3.py" title="Python SDK" highlight={[13]} maxLines={15} />
<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/python-4.py" title="Python" highlight={[23]} maxLines={15} />
<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/javascript-sdk-3.js" title="JavaScript SDK" highlight={[19]} maxLines={15} />
<Code src="../../../snippets/speech-to-text/pre-recorded-audio/code-switching-docs/javascript-4.js" title="JavaScript" highlight={[23]} maxLines={15} />
</CodeBlocks>

## Troubleshooting

If your audio contains primarily one language with only occasional words from another language, standard single-language transcription may be more appropriate than code-switching mode.

## Related features

- [Supported Languages](/docs/speech-to-text/pre-recorded-audio/supported-languages) - View all available language options
- [Speaker Diarization](/docs/speech-to-text/speaker-diarization) - Identify different speakers in multi-speaker conversations
- [Keyterms Prompting](/docs/pre-recorded-audio/keyterms-prompting) - Boost transcription accuracy
