---
title: "Livekit"
description: "Livekit voice agent integration"
---
## Overview

LiveKit is an open source platform for developers building realtime media applications. In this guide, we'll show you how to integrate AssemblyAI's streaming speech-to-text model into your Livekit voice agent using the Agents framework.

<Card 
    title="Livekit" 
    icon="circle" 
    href="https://docs.livekit.io/agents/integrations/stt/assemblyai/"
>
    View Livekit's AssemblyAI STT plugin documentation.
</Card>

## Quick start

### Installation

Install the plugin from PyPI:

```bash
pip install "livekit-agents[assemblyai]"
```

### Authentication

The AssemblyAI plugin requires an [AssemblyAI API key](https://www.assemblyai.com/docs/api-reference/overview#authorization). Set `ASSEMBLYAI_API_KEY` in your `.env` file.

<Tip>
  You can obtain an AssemblyAI API key by signing up
  [here](https://www.assemblyai.com/dashboard/signup).
</Tip>

### Basic usage

Use AssemblyAI STT in an `AgentSession` or as a standalone transcription service:

```python
from livekit.plugins import assemblyai

session = AgentSession(
    stt = assemblyai.STT(
      sample_rate=16000,
      encoding="pcm_s16le",
      word_finalization_max_wait_time=160,
      end_of_turn_confidence_threshold=0.7,
      min_end_of_turn_silence_when_confident=160,
      max_turn_silence=400,
    ),
    # ... llm, tts, etc.
)
```

## Configuration

### Constructor Parameters

<ParamField path="api_key" type="str" required>
  Your AssemblyAI API key.
</ParamField>

<ParamField path="connection_params" type="AssemblyAIConnectionParams">
  Connection parameters for the AssemblyAI WebSocket connection. See below for
  details.
</ParamField>

<ParamField path="vad_force_turn_endpoint" type="bool" default="True">
  When true, sends a `ForceEndpoint` event to AssemblyAI when a
  `UserStoppedSpeakingFrame` is received. Requires a VAD (Voice Activity
  Detection) processor in the pipeline to generate these frames.
</ParamField>

<ParamField path="language" type="Language" default="Language.EN">
  Language for transcription. AssemblyAI currently only supports English
  Streaming transcription.
</ParamField>

<ParamField path="api_endpoint_base_url" type="str">
  Base URL for the WebSocket API endpoint.
</ParamField>

### Connection Parameters

<ParamField path="sample_rate" type="int" default="16000">
  The sample rate of the audio stream
</ParamField>

<ParamField path="encoding" type="str" default="pcm_s16le">
  The encoding of the audio stream. Allowed values: `pcm_s16le`, `pcm_mulaw`
</ParamField>

<ParamField path="formatted_finals" type="bool" default="True">
  Whether to return formatted final transcripts. If enabled, formatted final
  transcripts will be emitted shortly following an end-of-turn detection.
</ParamField>

<ParamField path="word_finalization_max_wait_time" type="int" default="160">
  The max amount of time in milliseconds to wait for a word to be finalized.
</ParamField>

<ParamField path="end_of_turn_confidence_threshold" type="float" default="0.7">
  The confidence threshold to use when determining if the end of a turn has been
  reached.
</ParamField>

<ParamField path="min_end_of_turn_silence_when_confident" type="int" default="160">
  The minimum amount of silence required to detect end of turn when confident.
</ParamField>

<ParamField path="max_turn_silence" type="int" default="400">
  The maximum amount of silence allowed in a turn before end of turn is triggered.
</ParamField>

## Additional resources

- **[Python package](https://pypi.org/project/livekit-plugins-assemblyai/)**: The `livekit-plugins-assemblyai` package on PyPI.
- **[Plugin reference](https://docs.livekit.io/reference/python/v1/livekit/plugins/assemblyai/stt.html.md)**: Reference for the AssemblyAI STT plugin.
- **[GitHub repo](https://github.com/livekit/agents/tree/main/livekit-plugins/livekit-plugins-assemblyai)**: View the source or contribute to the LiveKit AssemblyAI STT plugin.
- **[AssemblyAI docs](https://www.assemblyai.com/docs/speech-to-text/universal-streaming)**: AssemblyAI's full docs site.
- **[Voice AI quickstart](https://docs.livekit.io/agents/start/voice-ai.md)**: Get started with LiveKit Agents and AssemblyAI.
