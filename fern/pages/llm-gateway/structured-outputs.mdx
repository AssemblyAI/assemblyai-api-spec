---
title: "Structured Outputs"
description: "Constrain model responses to follow a specific JSON schema for reliable, parseable outputs"
hidden: true
---

## Overview

Structured outputs allow you to constrain the model's response to follow a specific JSON schema. This ensures the model returns data in a predictable format that can be reliably parsed and processed by your application.

<Note>
  Structured outputs are supported by OpenAI (GPT-4.1, GPT-5.x) and Gemini
  models. Claude and gpt-oss models do not currently support structured outputs.
</Note>

## Getting started

To use structured outputs, include the `response_format` parameter in your request with a `json_schema` type:

<Tabs>
<Tab title="Python" language="python">

<Code src="snippets/llm-gateway/structured-outputs/python-1.py" />
</Tab>
<Tab title="JavaScript" language="javascript">

<Code src="snippets/llm-gateway/structured-outputs/javascript.js" />
</Tab>
<Tab title="cURL" language="bash">

<Code src="snippets/llm-gateway/structured-outputs/bash.sh" />
</Tab>
</Tabs>

## Example response

When using structured outputs, the model's response will be a JSON string that conforms to your schema:

```json
{
  "request_id": "abc123",
  "choices": [
    {
      "message": {
        "role": "assistant",
        "content": "{\"steps\":[{\"explanation\":\"Start with the equation 8x + 7 = -23\",\"output\":\"8x + 7 = -23\"},{\"explanation\":\"Subtract 7 from both sides to isolate the term with x\",\"output\":\"8x = -30\"},{\"explanation\":\"Divide both sides by 8 to solve for x\",\"output\":\"x = -30/8 = -15/4 = -3.75\"}],\"final_answer\":\"x = -3.75\"}"
      },
      "finish_reason": "stop"
    }
  ],
  "usage": {
    "input_tokens": 85,
    "output_tokens": 120,
    "total_tokens": 205
  }
}
```

You can parse the content as JSON in your application:

<Code src="snippets/llm-gateway/structured-outputs/python-2.py" />
## Supported models

Structured outputs are supported by the following model families:

| Provider                  | Supported |
| ------------------------- | --------- |
| OpenAI (GPT-4.1, GPT-5.x) | Yes       |
| Gemini                    | Yes       |
| gpt-oss                   | No        |
| Claude                    | No        |

## API reference

### Request parameters

The `response_format` parameter controls how the model formats its response:

| Key                           | Type   | Required? | Description                                                              |
| ----------------------------- | ------ | --------- | ------------------------------------------------------------------------ |
| `response_format`             | object | No        | Specifies the format of the model's response.                            |
| `response_format.type`        | string | Yes       | The type of response format. Use `"json_schema"` for structured outputs. |
| `response_format.json_schema` | object | Yes       | The JSON schema configuration object.                                    |

### JSON schema object

| Key                  | Type    | Required? | Description                                                                                  |
| -------------------- | ------- | --------- | -------------------------------------------------------------------------------------------- |
| `json_schema.name`   | string  | Yes       | A name for the schema. Used for identification purposes.                                     |
| `json_schema.schema` | object  | Yes       | A valid JSON Schema object that defines the structure of the expected response.              |
| `json_schema.strict` | boolean | No        | When `true`, the model will strictly adhere to the schema. Recommended for reliable parsing. |

### Schema definition

The `schema` object follows the [JSON Schema](https://json-schema.org/) specification. Common properties include:

| Property               | Type    | Description                                                                |
| ---------------------- | ------- | -------------------------------------------------------------------------- |
| `type`                 | string  | The data type: `"object"`, `"array"`, `"string"`, `"number"`, `"boolean"`. |
| `properties`           | object  | For objects, defines the properties and their schemas.                     |
| `items`                | object  | For arrays, defines the schema for array items.                            |
| `required`             | array   | List of required property names.                                           |
| `additionalProperties` | boolean | When `false`, prevents additional properties not defined in the schema.    |

## Best practices

When using structured outputs, keep these recommendations in mind:

Set `strict: true` to ensure the model's response strictly adheres to your schema. This is especially important when your application depends on specific fields being present.

Use `additionalProperties: false` at each level of your schema to prevent the model from adding unexpected fields to the response.

Keep your schemas focused and specific. Complex schemas with many nested levels may increase latency and token usage.

Include clear descriptions in your system or user messages to help the model understand what data to extract or generate for each field.

## Error handling

If the model cannot generate a valid response that matches your schema, you may receive an error or a response that doesn't fully conform to the schema. Always validate the parsed JSON against your expected structure:

<Code src="snippets/llm-gateway/structured-outputs/python-3.py" />
