---
/**
 * Custom Head component â€” extends Starlight's default Head to inject
 * RudderStack analytics and Pylon chat widget.
 */
import type { Props } from "@astrojs/starlight/props";
import Default from "@astrojs/starlight/components/Head.astro";
---

<Default {...Astro.props}><slot /></Default>

<!-- RudderStack Analytics -->
<script is:inline>
  !function(){"use strict";window.RudderSnippetVersion="3.0.32";var e="rudderanalytics";window[e]||(window[e]=[]);var rudderanalytics=window[e];if(Array.isArray(rudderanalytics)){if(rudderanalytics.snippetLoaded===true)return;rudderanalytics.snippetLoaded=true;rudderanalytics._loadOptions={};rudderanalytics.methods=["setDefaultInstanceKey","load","ready","page","track","identify","alias","group","reset","setAnonymousId","startSession","endSession","consent"];for(var t=0;t<rudderanalytics.methods.length;t++){var n=rudderanalytics.methods[t];rudderanalytics[n]=function(e){return function(){rudderanalytics.push([e].concat(Array.prototype.slice.call(arguments)))}}(n)}try{new Function('return import("")'),rudderanalytics.load("","https://rs-cdn.assemblyai.com/v3",{destSDKBaseURL:"https://rs-cdn.assemblyai.com/v3/js-integrations",pluginsSDKBaseURL:"https://rs-cdn.assemblyai.com/v3/plugins"})}catch(e){}}}();
</script>

<!-- Pylon Chat Widget -->
<script is:inline>
  (function(){
    var e = window;
    var t = document;
    var n = function(){
      n.e(arguments);
    };
    n.q = [];
    n.e = function(e){
      n.q.push(e);
    };
    e.Pylon = n;
    var r = function(){
      var e = t.createElement("script");
      e.setAttribute("type","text/javascript");
      e.setAttribute("async","true");
      e.setAttribute("src","https://widget.usepylon.com/widget/f28d5a70-a10d-4a6c-bd5e-cff70ac09f60");
      var n = t.getElementsByTagName("script")[0];
      n.parentNode.insertBefore(e, n);
    };
    if(t.readyState === "complete"){
      r();
    } else if(e.addEventListener){
      e.addEventListener("load", r, false);
    }
  })();
</script>
